
{% extends 'base.html' %}
{% load staticfiles %}
{% load phototags %}

{% block title %}
    上传照片
{% endblock %}

{% block mainContent %}
<body>
    <div class="container">
            <div class="text-left col-md-12 wrapper">
                    <h1 class="text-left col-md-12 ">
                        七牛云图片存储 
                    </h1>
                
                   <ul class="tip col-md-12 text-mute">
                       <li>
                           <small>临时上传的空间不定时清空，请勿保存重要文件。</small>
                       </li>
                       <li>
                           <small>Html5模式大于4M文件采用分块上传。</small>
                       </li>
                       <li>
                           <small>上传图片可查看处理效果。</small>
                       </li>
                       <li>
                           <small>本示例限制最大上传文件100M。</small>
                       </li>
                   </ul>
                
                </div>

        <div class="body">
            <!-- Blog Entries Column -->
            <div class="col-md-12">
                <div id="container">
                    <button type="button" id="pickfiles" class="btn btn-default btn-lg">
                        <span class="glyphicon glyphicon-plus"></span> 选择图片&上传七牛
                    </button>
                </div>
            </div>

            <div class="col-md-12 ">
                    <table class="table table-striped table-hover text-left" style="margin-top:40px;display:none">
                        <thead>
                        <tr>
                            <th class="col-md-4">Filename</th>
                            <th class="col-md-2">Size</th>
                            <th class="col-md-6">Detail</th>
                        </tr>
                        </thead>
                        <tbody id="fsUploadProgress">
                        </tbody>
                    </table>
                </div>
                
                <div style="display:none" id="success" class="col-md-12">
                        <div class="alert-success" role="alert">
                            全部图片上传完毕
                        </div>
                    </div>
            <input type="hidden" id="domain" value="{{ domain }}">
            <input type="hidden" id="media-root" value="{{ media_root }}">
            <input type="hidden" id="uptoken_url" value="{% url 'photos:get_token' %}">
            <input type="hidden" id="uploader_username" value="{{ user.username }}">
        </div>
        <!-- /.row -->
        <div id="fsUploadProgress"></div>
    </div>
    <!-- /.container -->

<!-- Footer -->

{% endblock mainContent %}

{% block extScriptFile %}
    <script  src="{% static 'photos/js/qiniu/moxie.js' %}"></script>
    <script  src="{% static 'photos/js/qiniu/plupload.dev.js' %}"></script>
    <script  src="{% static 'photos/js/qiniu/zh_CN.js' %}"></script>
    <script  src="{% static 'photos/js/qiniu/ui.js' %}"></script>
    <script  src="{% static 'photos/js/qiniu/qiniu.js' %}"></script>
    <script  src="{% static 'photos/js/qiniu/upload.js' %}"></script>    
{% endblock %}
</body>